
<!DOCTYPE html>

<html>
  <head>
   <!-- Global site tag (gtag.js) - Google Analytics -->
   <script async src="https://www.googletagmanager.com/gtag/js?id=G-QHB6CBHE8P"></script>
   <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-QHB6CBHE8P');
   </script>

    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Scraping Data &#8212; LeDataSciFi-2025</title>
    
  <link rel="stylesheet" href="../../_static/css/index.f658d18f9b420779cfdf24aa0a7e2d77.css">

    
  <link rel="stylesheet"
    href="../../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      
  <link rel="stylesheet"
    href="../../_static/vendor/open-sans_all/1.44.1/index.css">
  <link rel="stylesheet"
    href="../../_static/vendor/lato_latin-ext/1.44.1/index.css">

    
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/sphinx-book-theme.40e2e510f6b7d1648584402491bb10fe.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/moviescript.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/fin377_specialformatting.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/frontpage.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="../../_static/js/index.d3f166471bb80abb5163.js">

    <script id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/togglebutton.js"></script>
    <script src="../../_static/clipboard.min.js"></script>
    <script src="../../_static/copybutton.js"></script>
    <script >var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../../_static/sphinx-book-theme.d31b09fe5c1d09cb49b26a786de4a05d.js"></script>
    <script >const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="../../_static/sphinx-thebe.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />

    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en" />



  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
<a class="navbar-brand text-wrap" href="../../index.html">
  
  <img src="../../_static/logo.png" class="logo" alt="logo">
  
  
  <h1 class="site-logo" id="site-title">LeDataSciFi-2025</h1>
  
</a>
</div><form class="bd-search d-flex align-items-center" action="../../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form>
<nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
    <p class="caption collapsible-parent">
 <span class="caption-text">
  Syllabus
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../about/objectives.html">
   Objectives
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../about/outcomes.html">
   Outcomes
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../about/about_us.html">
   About us + office hours
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../about/structure_and_policies.html">
   Course structure + policies
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../about/use_of_gpt.html">
   ChatGPT and other AI
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../about/gradeoverview.html">
   Grading
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../about/interest.html">
   Interested but unsure?
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../about/bootcamp.html">
   Pre-Class Bootcamp
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../about/hall_of_awesomeness.html">
   The Hall of Awesomeness
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../about/acknowledgments.html">
   Gratitude
  </a>
 </li>
</ul>

</nav> <!-- To handle the deprecated key -->

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="row topbar fixed-top container-xl">
    <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show">
    </div>
    <div class="col pl-2 topbar-main">
        
        <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
            data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
            aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
            title="Toggle navigation" data-toggle="tooltip" data-placement="left">
            <i class="fas fa-bars"></i>
            <i class="fas fa-arrow-left"></i>
            <i class="fas fa-arrow-up"></i>
        </button>
        
        
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="../../_sources/content/04/01_Intro_to_scraping.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.ipynb</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
            onClick="window.print()" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

        <!-- Source interaction buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Connect with source repository"><i class="fab fa-github"></i></button>
    <div class="dropdown-buttons sourcebuttons">
        <a class="repository-button"
            href="https://github.com/LeDataSciFi/ledatascifi-2025"><button type="button" class="btn btn-secondary topbarbtn"
                data-toggle="tooltip" data-placement="left" title="Source repository"><i
                    class="fab fa-github"></i>repository</button></a>
        <a class="issues-button"
            href="https://github.com/LeDataSciFi/ledatascifi-2025/issues/new?title=Issue%20on%20page%20%2Fcontent/04/01_Intro_to_scraping.html&body=Your%20issue%20content%20here."><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Open an issue"><i class="fas fa-lightbulb"></i>open issue</button></a>
        <a class="edit-button" href="https://github.com/LeDataSciFi/ledatascifi-2025/edit/main/content/04/01_Intro_to_scraping.ipynb"><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Edit this page"><i class="fas fa-pencil-alt"></i>suggest edit</button></a>
    </div>
</div>


        <!-- Full screen (wrap in <a> to have style consistency -->
        <a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
                data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
                title="Fullscreen mode"><i
                    class="fas fa-expand"></i></button></a>

        <!-- Launch buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Launch interactive content"><i class="fas fa-rocket"></i></button>
    <div class="dropdown-buttons">
        
        <a class="binder-button" href="https://mybinder.org/v2/gh/LeDataSciFi/ledatascifi-2025/main?urlpath=lab/tree/content/04/01_Intro_to_scraping.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Launch Binder" data-toggle="tooltip"
                data-placement="left"><img class="binder-button-logo"
                    src="../../_static/images/logo_binder.svg"
                    alt="Interact on binder">Binder</button></a>
        
        
        
        <a class="colab-button" href="https://colab.research.google.com/github/LeDataSciFi/ledatascifi-2025/blob/main/content/04/01_Intro_to_scraping.ipynb"><button type="button" class="btn btn-secondary topbarbtn"
                title="Launch Colab" data-toggle="tooltip" data-placement="left"><img class="colab-button-logo"
                    src="../../_static/images/logo_colab.png"
                    alt="Interact on Colab">Colab</button></a>
        
        
    </div>
</div>

    </div>

    <!-- Table of contents -->
    <div class="d-none d-md-block col-md-2 bd-toc show">
        
        <div class="tocsection onthispage pt-5 pb-3">
            <i class="fas fa-list"></i> Contents
        </div>
        <nav id="bd-toc-nav">
            <ul class="nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#what-skills-do-i-need-to-learn-to-be-a-master-hacker-wo-man">
   What skills do I need to learn to be a master Hacker(wo)man?
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#ways-to-get-data-from-the-web">
   Ways to get data from the web
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#useful-packages-tricks-and-tips">
   Useful packages, tricks, and tips
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#my-suggestion">
     My suggestion
    </a>
   </li>
  </ul>
 </li>
</ul>

        </nav>
        
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
        
              <div>
                
  <div class="section" id="scraping-data">
<h1>Scraping Data<a class="headerlink" href="#scraping-data" title="Permalink to this headline">¶</a></h1>
<ol class="simple">
<li><p>Skills we will develop</p></li>
<li><p>Overview of different ways to get data</p></li>
<li><p>Overview of python packages we can use</p></li>
</ol>
<div class="section" id="what-skills-do-i-need-to-learn-to-be-a-master-hacker-wo-man">
<h2>What skills do I need to learn to be a master Hacker(wo)man?<a class="headerlink" href="#what-skills-do-i-need-to-learn-to-be-a-master-hacker-wo-man" title="Permalink to this headline">¶</a></h2>
<ol class="simple">
<li><p>Get the data: How to open/read a webpage, and pass specific queries to a server to control the content the server gives you</p></li>
<li><p>How to parse a (single) page, to find specific elements of interest (like tables, specific text, URLs)</p></li>
<li><p>Doing that for a large number of webpages (building a “scraper” or “crawler” or “spider”)</p></li>
</ol>
</div>
<div class="section" id="ways-to-get-data-from-the-web">
<h2>Ways to get data from the web<a class="headerlink" href="#ways-to-get-data-from-the-web" title="Permalink to this headline">¶</a></h2>
<details class="sphinx-bs dropdown card mb-3">
<summary class="summary-title card-header">
1: <strong>Manually click and download.</strong><div class="summary-down docutils">
<svg version="1.1" width="24" height="24" class="octicon octicon-chevron-down" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M5.22 8.72a.75.75 0 000 1.06l6.25 6.25a.75.75 0 001.06 0l6.25-6.25a.75.75 0 00-1.06-1.06L12 14.44 6.28 8.72a.75.75 0 00-1.06 0z"></path></svg></div>
<div class="summary-up docutils">
<svg version="1.1" width="24" height="24" class="octicon octicon-chevron-up" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M18.78 15.28a.75.75 0 000-1.06l-6.25-6.25a.75.75 0 00-1.06 0l-6.25 6.25a.75.75 0 101.06 1.06L12 9.56l5.72 5.72a.75.75 0 001.06 0z"></path></svg></div>
</summary><div class="summary-content card-body docutils">
<p class="card-text">The way you would have done it before this class.</p>
</div>
</details><details class="sphinx-bs dropdown card mb-3">
<summary class="summary-title card-header">
2: <strong>Let pandas download your data,</strong> like pd.read_csv(url)<div class="summary-down docutils">
<svg version="1.1" width="24" height="24" class="octicon octicon-chevron-down" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M5.22 8.72a.75.75 0 000 1.06l6.25 6.25a.75.75 0 001.06 0l6.25-6.25a.75.75 0 00-1.06-1.06L12 14.44 6.28 8.72a.75.75 0 00-1.06 0z"></path></svg></div>
<div class="summary-up docutils">
<svg version="1.1" width="24" height="24" class="octicon octicon-chevron-up" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M18.78 15.28a.75.75 0 000-1.06l-6.25-6.25a.75.75 0 00-1.06 0l-6.25 6.25a.75.75 0 101.06 1.06L12 9.56l5.72 5.72a.75.75 0 001.06 0z"></path></svg></div>
</summary><div class="summary-content card-body docutils">
<p class="card-text">Did you know? Pandas can often directly read tables on webpages!</p>
<ul class="simple">
<li><p class="card-text">Try <code class="docutils literal notranslate"><span class="pre">pd.read_html('https://en.wikipedia.org/wiki/List_of_S%26P_500_companies')</span></code></p></li>
<li><p class="card-text">Very easy and fast! You don’t even need to save the webpage to your hard drive.</p></li>
<li><p class="card-text">Notes on <code class="docutils literal notranslate"><span class="pre">read_html</span></code>:</p>
<ol class="simple">
<li><p class="card-text">It can only handle basic HTML tables encoded directly in the page (no Javascript, e.g.) and <strong>only grabs displayed text – embedded URLs are lost.</strong></p></li>
<li><p class="card-text">If the website changes the data, the next time you run it, you’ll get the newer version of data. (Unstable, potentially, but also updates automatically.)</p></li>
</ol>
</li>
</ul>
</div>
</details><details class="sphinx-bs dropdown card mb-3">
<summary class="summary-title card-header">
3: <strong>“Install and play” APIs,</strong> like pandas_datareader<div class="summary-down docutils">
<svg version="1.1" width="24" height="24" class="octicon octicon-chevron-down" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M5.22 8.72a.75.75 0 000 1.06l6.25 6.25a.75.75 0 001.06 0l6.25-6.25a.75.75 0 00-1.06-1.06L12 14.44 6.28 8.72a.75.75 0 00-1.06 0z"></path></svg></div>
<div class="summary-up docutils">
<svg version="1.1" width="24" height="24" class="octicon octicon-chevron-up" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M18.78 15.28a.75.75 0 000-1.06l-6.25-6.25a.75.75 0 00-1.06 0l-6.25 6.25a.75.75 0 101.06 1.06L12 9.56l5.72 5.72a.75.75 0 001.06 0z"></path></svg></div>
</summary><div class="summary-content card-body docutils">
<p class="card-text">API stands for <strong>Application Programming Interface,</strong> and it is a way for your computer to send a request (a query) to a server and get some response (hopefully useful data).</p>
<p class="card-text">Plug and play APIs let you interact with a website without specifying the exact API requests to send to the server.</p>
<ul class="simple">
<li><p class="card-text">The <code class="docutils literal notranslate"><span class="pre">pandas_datareader</span></code> plug-in for Yahoo stock prices is one version of this.</p></li>
<li><p class="card-text"><code class="docutils literal notranslate"><span class="pre">datadotworld</span></code> was another.</p></li>
<li><p class="card-text">Kaggle and most of the <a class="reference external" href="https://ledatascifi.github.io/ledatascifi-2021/content/about/resources.html#resources-tutorials-and-data">data sources listed on our resources page</a> have API packages for Python.</p></li>
<li><p class="card-text">I upload your peer reviews and manage assignment permissions using <code class="docutils literal notranslate"><span class="pre">PyGithub</span></code> to interact with GH</p></li>
</ul>
</div>
</details><div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>If you need &lt;20ish tables (the threshold depends on your coding speed), download what you need manually.</p>
<p>If you need more, it’s time to scrape.</p>
<p><strong>Options 1-3 are BY FAR the easiest.</strong> If you want more than 10 tables or so (but the threshold depends on your coding speed), I’d abandon the manual option and go with <code class="docutils literal notranslate"><span class="pre">pandas</span></code> or a nice API package.</p>
<p>Never ever try #4 or #5 without searching for “&lt;website&gt; python api” first.</p>
</div>
<details class="sphinx-bs dropdown card mb-3">
<summary class="summary-title card-header">
4: <strong>Manual API queries</strong> for websites without “install and play” APIs<div class="summary-down docutils">
<svg version="1.1" width="24" height="24" class="octicon octicon-chevron-down" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M5.22 8.72a.75.75 0 000 1.06l6.25 6.25a.75.75 0 001.06 0l6.25-6.25a.75.75 0 00-1.06-1.06L12 14.44 6.28 8.72a.75.75 0 00-1.06 0z"></path></svg></div>
<div class="summary-up docutils">
<svg version="1.1" width="24" height="24" class="octicon octicon-chevron-up" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M18.78 15.28a.75.75 0 000-1.06l-6.25-6.25a.75.75 0 00-1.06 0l-6.25 6.25a.75.75 0 101.06 1.06L12 9.56l5.72 5.72a.75.75 0 001.06 0z"></path></svg></div>
</summary><div class="summary-content card-body docutils">
<p class="card-text">Many sites have an API port of some kind serving up the data they show visitors.</p>
<p class="card-text">The next few website pages and lectures will cover this. If you can see your search query in the URL, like “<a class="reference external" href="https://www.google.com/search?q=gme+stock+price">https://www.google.com/search?q=gme+stock+price</a>”, then you can run the searches manually and get the data after opening the page using one of two approaches:</p>
<ol class="simple">
<li><p class="card-text">If the data is in the HTML code, you can scrape it using the approaches we will discuss. You can look at the HTML code for any webpage by right-clicking and then selecting “View Page Source” (or similar, depending on the browser). After opening the HTML code, CTRL+F to look for some of the data. If the data is within the source code, you can scrape it various ways, which we will cover.</p></li>
<li><p class="card-text">If you can see the data on the webpage, but the data isn’t in the HTML code when you CTRL+F for it, you’re in luck! You’ll need to do a few tricks with your browser to find where the API is hidden and how to use it, but after that, you will be able to download the data without doing any HTML scraping! <a class="reference external" href="http://www.gregreda.com/2015/02/15/web-scraping-finding-the-api/">See this example.</a></p></li>
<li><p class="card-text">And sometimes a webpage is “hiding” the way to run queries like this API. You run a search and the URL doesn’t look obviously like a search. But often, inside that page is a “backdoor” to an API you can search just like the above example. <a class="reference external" href="https://nbviewer.jupyter.org/github/nealcaren/ScrapingData/blob/master/Notebooks/Bonus_Undocument_APIs.ipynb">This</a> tutorial shows one example of this and more importantly, how the author found the API.</p></li>
</ol>
</div>
</details><details class="sphinx-bs dropdown card mb-3">
<summary class="summary-title card-header">
5: <strong>Scraping the data on the website by visiting each page and downloading the data needed</strong><div class="summary-down docutils">
<svg version="1.1" width="24" height="24" class="octicon octicon-chevron-down" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M5.22 8.72a.75.75 0 000 1.06l6.25 6.25a.75.75 0 001.06 0l6.25-6.25a.75.75 0 00-1.06-1.06L12 14.44 6.28 8.72a.75.75 0 00-1.06 0z"></path></svg></div>
<div class="summary-up docutils">
<svg version="1.1" width="24" height="24" class="octicon octicon-chevron-up" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M18.78 15.28a.75.75 0 000-1.06l-6.25-6.25a.75.75 0 00-1.06 0l-6.25 6.25a.75.75 0 101.06 1.06L12 9.56l5.72 5.72a.75.75 0 001.06 0z"></path></svg></div>
</summary><div class="summary-content card-body docutils">
<p class="card-text">The last resort. You can’t find the API serving the data, but your eyes see it. And you want it, cause websites contain a lot of data, like <a class="reference external" href="https://www.imdb.com/title/tt0944947/?ref_=nv_sr_srsg_0">GoT’s IMDB page</a>.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p class="card-text">This is an essential tool, but should be the last thing you try!</p>
</div>
</div>
</details><div class="admonition note">
<p class="admonition-title">Note</p>
<p>Wisdom from <a class="reference external" href="http://www.gregreda.com/2013/03/03/web-scraping-101-with-python/">Greg Reda</a> about scraping data</p>
<blockquote>
<div><ol class="simple">
<li><p>You should check a site’s terms and conditions before you scrape them. It’s their data and they likely have some rules to govern it.</p></li>
<li><p>Be nice - A computer will send web requests much quicker than a user can. Make sure you space out your requests a bit so that you don’t hammer the site’s server.</p></li>
<li><p>Scrapers break - Sites change their layout all the time. If that happens, be prepared to rewrite your code.</p></li>
<li><p>Web pages are inconsistent - There’s sometimes some manual clean up that has to happen even after you’ve gotten your data.</p></li>
</ol>
</div></blockquote>
</div>
</div>
<div class="section" id="useful-packages-tricks-and-tips">
<h2>Useful packages, tricks, and tips<a class="headerlink" href="#useful-packages-tricks-and-tips" title="Permalink to this headline">¶</a></h2>
<p>Web scraping packages are always developing and evolving.</p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="text-align:left head"><p>Task</p></th>
<th class="text-align:left head"><p>Thoughts</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-align:left"><p>To “open” a page</p></td>
<td class="text-align:left"><p><code class="docutils literal notranslate"><span class="pre">urllib</span></code> or <code class="docutils literal notranslate"><span class="pre">requests</span></code>. <code class="docutils literal notranslate"><span class="pre">requests</span></code> is probably the best for sending API queries. <br> <br> Warning: lots of walkthroughs online use <code class="docutils literal notranslate"><span class="pre">urllib2</span></code>, which worked for Python2 but not Python3. Use <code class="docutils literal notranslate"><span class="pre">urllib</span></code> instead, and you might have to include a few tweaks. For example, if you see <code class="docutils literal notranslate"><span class="pre">from</span> <span class="pre">urllib2</span> <span class="pre">import</span> <span class="pre">urlopen</span></code> replace it with <code class="docutils literal notranslate"><span class="pre">from</span> <span class="pre">urllib.request</span> <span class="pre">import</span> <span class="pre">urlopen</span></code></p></td>
</tr>
<tr class="row-odd"><td class="text-align:left"><p>To parse a page</p></td>
<td class="text-align:left"><p><code class="docutils literal notranslate"><span class="pre">beautifulsoup</span></code>, <code class="docutils literal notranslate"><span class="pre">lxml</span></code>, or <code class="docutils literal notranslate"><span class="pre">pyquery</span></code></p></td>
</tr>
<tr class="row-even"><td class="text-align:left"><p>Combining opening/parsing</p></td>
<td class="text-align:left"><p><code class="docutils literal notranslate"><span class="pre">requests_html</span></code> is a relatively new package and might be excellent. Its code is simply a combination of many of the above.</p></td>
</tr>
<tr class="row-odd"><td class="text-align:left"><p>Blocked because you look like a bot or need to accept cookies?</p></td>
<td class="text-align:left"><p><code class="docutils literal notranslate"><span class="pre">selenium</span></code> is one way to “impersonate” a human, and also can help develop scraping macros, but you might not need it except on difficult scraping projects. It opens a literal browser window. <br> <br> <code class="docutils literal notranslate"><span class="pre">requests_html</span></code> and <code class="docutils literal notranslate"><span class="pre">requests</span></code> can also store and use cookies. I’d recommend you try this before selenium.</p></td>
</tr>
<tr class="row-even"><td class="text-align:left"><p>Blocked because you’re sending requests too fast?</p></td>
<td class="text-align:left"><p><code class="docutils literal notranslate"><span class="pre">from</span> <span class="pre">time</span> <span class="pre">import</span> <span class="pre">sleep</span></code> allows you to <code class="docutils literal notranslate"><span class="pre">sleep(&lt;#</span> <span class="pre">of</span> <span class="pre">seconds&gt;)</span></code> your code.</p></td>
</tr>
<tr class="row-odd"><td class="text-align:left"><p>Wonder what your current HTML looks like?</p></td>
<td class="text-align:left"><p><code class="docutils literal notranslate"><span class="pre">from</span> <span class="pre">IPython.display</span> <span class="pre">import</span> <span class="pre">HTML</span></code> then <code class="docutils literal notranslate"><span class="pre">HTML(&lt;html</span> <span class="pre">object&gt;)</span></code> will show you what the HTML you have looks like. <br> E.g. if you’re using <code class="docutils literal notranslate"><span class="pre">r</span> <span class="pre">=</span> <span class="pre">requests(url)</span></code>, then you can use <code class="docutils literal notranslate"><span class="pre">HTML(r.text)</span></code> to see the request object.</p></td>
</tr>
<tr class="row-even"><td class="text-align:left"><p>How do I find a particular “piece” of a webpage</p></td>
<td class="text-align:left"><p>E.g. Q: Where is that table? <br> A: Oh, it’s inside the HTML tag called “table3”. <br> <br> You can search for elements via attributes, CSS selectors, XPath, and text. This will make more sense soon. <br> <br> To find that info: Right click on an element you’re interested and click “Inspect Element”. (F12 is the Windows shortcut.)</p></td>
</tr>
</tbody>
</table>
<div class="section" id="my-suggestion">
<h3>My suggestion<a class="headerlink" href="#my-suggestion" title="Permalink to this headline">¶</a></h3>
<p>This is subject to change, but <strong>I think you should pick ONE opening and ONE parsing module and stick with it <em>for now</em></strong>. <code class="docutils literal notranslate"><span class="pre">requests_html</span></code> is a pretty good option that opens pages and can parse them, and it allows you to use <code class="docutils literal notranslate"><span class="pre">lxml</span></code>, or <code class="docutils literal notranslate"><span class="pre">pyquery</span></code> within it.</p>
<p>You can change and try other stuff as you go, but get as familiar with one package as you can (in a cheap/efficient way).</p>
<p>Now to contradict myself: Some of the packages above can’t do things others can, or do them much slower, or the code is hard to write, read, and debug. Sometimes, you’re holding a hammer but you need a screwdriver. What I’m saying is, if another package can easily do the job, use it. (Just realize that learning a new package comes with a fixed cost, so be sure you need that screwdriver before grabbing it.)</p>
</div>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./content/04"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
        </div>
    </div>
    
    
    <div class='prev-next-bottom'>
        

    </div>
    <footer class="footer mt-5 mt-md-0">
    <div class="container">
      <p>
        
          By Prof. Donald Bowen<br/>
        
            &copy; Copyright 2025.<br/>
          <div class="extra_footer">
            You're doing well, keep going!
          </div>
      </p>
    </div>
  </footer>
</main>


      </div>
    </div>

    
  <script src="../../_static/js/index.d3f166471bb80abb5163.js"></script>


    
  </body>
</html>